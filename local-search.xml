<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>⏰支付宝多账号同步</title>
    <link href="/2020/11/07/AlipayAutoSync/"/>
    <url>/2020/11/07/AlipayAutoSync/</url>
    
    <content type="html"><![CDATA[<blockquote><p>万恶的蚂蚁森林种树，什么水商，各种辅助外挂满天飞，当然最终受益的还是支付宝，最近蚂蚁集团上市暂缓也是真强，不多说，为了自己能量蹭蹭往上涨，特意注册了五六个小号刷能量，为大号浇水，一天1kg能量不用愁<br>主要实现功能为支付宝多账号切换+进入运动进行步数同步<br>本脚本所使用的autojs版本为 —&gt; <a href="https://lingsiki.lanzous.com/in80Mi4ve3a">Auto.js_4.1.1 Alpha2</a></p><a id="more"></a></blockquote><div class="note note-success">            <p>实现原理：利用三星健康管理刷三星健康的步数，然后把三星健康的步数同步到每一个小号上</p>          </div><h3 id="一、基本功能"><a href="#一、基本功能" class="headerlink" title="一、基本功能"></a>一、基本功能</h3><ol><li>支付宝刷步数</li><li>支付宝账号切换</li><li>运动同步以及捐步</li></ol><h3 id="二、代码实现"><a href="#二、代码实现" class="headerlink" title="二、代码实现"></a>二、代码实现</h3><h4 id="1、关闭支付宝"><a href="#1、关闭支付宝" class="headerlink" title="1、关闭支付宝"></a>1、关闭支付宝</h4><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * 关闭支付宝函数</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeAlipay</span>(<span class="hljs-params"></span>)</span>&#123;    appName = app.getPackageName(<span class="hljs-string">&#x27;支付宝&#x27;</span>)    app.openAppSetting(appName)    sleep(<span class="hljs-number">1000</span>)    <span class="hljs-keyword">var</span> obj = text(<span class="hljs-string">&#x27;结束运行&#x27;</span>).findOne(<span class="hljs-number">5000</span>)    clickCenter(obj)    <span class="hljs-keyword">var</span> btn = idContains(<span class="hljs-string">&#x27;button1&#x27;</span>).findOne(<span class="hljs-number">1000</span>)    <span class="hljs-keyword">if</span> (btn)&#123;        btn.click()    &#125;    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;支付宝关闭成功！\n开启任务&quot;</span>)&#125;</code></pre><h4 id="2、支付宝刷步数"><a href="#2、支付宝刷步数" class="headerlink" title="2、支付宝刷步数"></a>2、支付宝刷步数</h4><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * 利用三星健康 + 三星健康管理实现支付宝刷步数</span><span class="hljs-comment"> * 环境搭建（Root手机）：</span><span class="hljs-comment"> * 1、下载刷步数三件套（https://lingsiki.lanzous.com/b0ejfe25a）。</span><span class="hljs-comment"> * 2、edxp激活应用变量模块，并且设置三星健康、支付宝和三星健康管理模拟机型为三星型号手机。</span><span class="hljs-comment"> * 3、进入三星健康设置-关于三星健康点击版本号十次开启开发者模式-然后进入数据权限开启支付宝和三星健康管理的所有权限。</span><span class="hljs-comment"> * 4、进入支付宝的支付宝运动-右上角三点进入设置，开启记录运动数据。</span><span class="hljs-comment"> * 5、保持三星健康在后台，打开三星健康管理增加步数，进入三星健康等一会儿即可同步步数，最后关闭重启支付宝，进入运动查看同步情况</span><span class="hljs-comment"> * 6、若失败可能是机型伪装的问题，也有可能是第一天刷步数可能延迟会有点大，第二天以后一般都是秒同步的</span><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;步数=count * 12000&#125;</span> </span>count </span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">steps</span>(<span class="hljs-params">count</span>) </span>&#123;    launchApp(<span class="hljs-string">&#x27;三星健康&#x27;</span>);    sleep(<span class="hljs-number">1000</span>);    launchApp(<span class="hljs-string">&#x27;三星健康步数管理&#x27;</span>);    idContains(<span class="hljs-string">&quot;floatingActionButton&quot;</span>).waitFor()    sleep(<span class="hljs-number">1000</span>)    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; count; index++) &#123;        idContains(<span class="hljs-string">&quot;floatingActionButton&quot;</span>).findOne().click()        sleep(<span class="hljs-number">500</span>)        click(<span class="hljs-number">800</span>, <span class="hljs-number">1750</span>)        sleep(<span class="hljs-number">500</span>)    &#125;    launchApp(<span class="hljs-string">&#x27;三星健康&#x27;</span>);    text(<span class="hljs-string">&#x27;主页&#x27;</span>).waitFor();    <span class="hljs-keyword">var</span> obj = idContains(<span class="hljs-string">&#x27;goal&#x27;</span>).findOne()    clickCenter(obj);    sleep(<span class="hljs-number">5000</span>)    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)&#123;        step = idContains(<span class="hljs-string">&#x27;current_steps&#x27;</span>).findOne().text()        <span class="hljs-keyword">if</span> (step != <span class="hljs-string">&#x27;0&#x27;</span>)&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;当前刷步数为：&quot;</span> + step)            <span class="hljs-keyword">return</span> step;        &#125;    &#125;&#125;</code></pre><h4 id="3、支付宝登录"><a href="#3、支付宝登录" class="headerlink" title="3、支付宝登录"></a>3、支付宝登录</h4><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * 支付宝登录函数</span><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;账号&#125;</span> </span>accont </span><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;密码&#125;</span> </span>key </span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">login</span>(<span class="hljs-params">accont, key</span>) </span>&#123;    <span class="hljs-comment">// 进入支付宝密码登录界面</span>    app.startActivity(app.intent(&#123;        action: <span class="hljs-string">&quot;VIEW&quot;</span>,        data: <span class="hljs-string">&quot;alipayqr://platformapi/startapp?appId=20000008&quot;</span>,    &#125;));    textMatches(<span class="hljs-string">&quot;换个账号登录&quot;</span>).findOne(<span class="hljs-number">5000</span>)    click(<span class="hljs-string">&quot;换个账号登录&quot;</span>)    sleep(<span class="hljs-number">400</span>)    setText(<span class="hljs-number">0</span>, accont);    textMatches(<span class="hljs-string">&quot;下一步&quot;</span>).findOne(<span class="hljs-number">5000</span>)    click(<span class="hljs-string">&quot;下一步&quot;</span>)    idContains(<span class="hljs-string">&quot;loginButton&quot;</span>).waitFor()    <span class="hljs-keyword">var</span> obj = textMatches(<span class="hljs-regexp">/短信验证码登录|忘记密码?|换个方式登录/</span>).findOne().text()    <span class="hljs-keyword">if</span> (obj == <span class="hljs-string">&quot;短信验证码登录&quot;</span>) &#123;        sleep(<span class="hljs-number">200</span>)        textMatches(<span class="hljs-regexp">/换个验证方式|换个方式登录/</span>).findOne()        click(<span class="hljs-string">&quot;换个验证方式&quot;</span>)        click(<span class="hljs-string">&quot;换个方式登录&quot;</span>)        text(<span class="hljs-string">&quot;密码登录&quot;</span>).findOne()        sleep(<span class="hljs-number">200</span>)        <span class="hljs-keyword">while</span> (!click(<span class="hljs-string">&quot;密码登录&quot;</span>)) &#123; &#125;        sleep(<span class="hljs-number">400</span>)        setText(<span class="hljs-number">0</span>, accont);        sleep(<span class="hljs-number">200</span>);        setText(<span class="hljs-number">1</span>, key);        sleep(<span class="hljs-number">200</span>)        idContains(<span class="hljs-string">&quot;loginButton&quot;</span>).findOne().click()        <span class="hljs-built_in">console</span>.log(accont, <span class="hljs-string">&quot;登录成功&quot;</span>)    &#125; <span class="hljs-keyword">else</span> &#123;        sleep(<span class="hljs-number">400</span>)        setText(<span class="hljs-number">1</span>, key);        sleep(<span class="hljs-number">400</span>)        idContains(<span class="hljs-string">&quot;loginButton&quot;</span>).findOne().click()        <span class="hljs-built_in">console</span>.log(accont, <span class="hljs-string">&quot;登录成功&quot;</span>)    &#125;&#125;</code></pre><h4 id="4、步数同步"><a href="#4、步数同步" class="headerlink" title="4、步数同步"></a>4、步数同步</h4><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * 进入支付宝运动步数同步以及捐步</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">go_sports</span>(<span class="hljs-params"></span>) </span>&#123;    sleep(<span class="hljs-number">2000</span>)    app.startActivity(&#123;        data: <span class="hljs-string">&quot;alipayqr://platformapi/startapp?saId=20000869&quot;</span>    &#125;)    textContains(<span class="hljs-string">&quot;走路线&quot;</span>).waitFor();    swipe(device.width / <span class="hljs-number">9</span> * <span class="hljs-number">8</span>, device.height / <span class="hljs-number">3</span>, device.width / <span class="hljs-number">9</span> * <span class="hljs-number">8</span>, device.height / <span class="hljs-number">3</span> * <span class="hljs-number">2</span>, <span class="hljs-number">500</span>)    sleep(<span class="hljs-number">5000</span>)    <span class="hljs-keyword">var</span> obj1 = text(<span class="hljs-string">&#x27;去捐步&#x27;</span>).findOne(<span class="hljs-number">1000</span>)    <span class="hljs-keyword">if</span> (obj1 != <span class="hljs-literal">null</span>)&#123;        clickCenter(text(<span class="hljs-string">&#x27;去捐步&#x27;</span>).findOne())        sleep(<span class="hljs-number">3000</span>)        text(<span class="hljs-string">&#x27;立即捐步&#x27;</span>).findOne()        sleep(<span class="hljs-number">200</span>)        <span class="hljs-keyword">while</span> (!click(<span class="hljs-string">&quot;立即捐步&quot;</span>)) &#123;&#125;        sleep(<span class="hljs-number">500</span>)        clickCenter(text(<span class="hljs-string">&quot;知道了&quot;</span>).findOne(<span class="hljs-number">1000</span>))        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;捐步成功&#x27;</span>)    &#125;<span class="hljs-keyword">else</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;已经捐完步数了&#x27;</span>)    &#125;&#125;</code></pre><h4 id="5、进入蚂蚁森林"><a href="#5、进入蚂蚁森林" class="headerlink" title="5、进入蚂蚁森林"></a>5、进入蚂蚁森林</h4><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * 进入蚂蚁森林</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">enterForest</span>(<span class="hljs-params"></span>)</span>&#123;    sleep(<span class="hljs-number">2000</span>)    app.startActivity(&#123;        data: <span class="hljs-string">&quot;alipayqr://platformapi/startapp?saId=60000002&quot;</span>    &#125;)    sleep(<span class="hljs-number">2000</span>)&#125;</code></pre><h3 id="三、完整代码"><a href="#三、完整代码" class="headerlink" title="三、完整代码"></a>三、完整代码</h3><p>下载链接：<a href="https://github.com/ReaJason/AutoJsScripts/blob/master/%E6%94%AF%E4%BB%98%E5%AE%9D%E5%A4%9A%E8%B4%A6%E5%8F%B7%E5%88%87%E6%8D%A2%E6%AD%A5%E6%95%B0%E5%90%8C%E6%AD%A5%E8%84%9A%E6%9C%AC.js">GitHub地址链接</a></p><h3 id="四、运行效果"><a href="#四、运行效果" class="headerlink" title="四、运行效果"></a>四、运行效果</h3><iframe height="400" width="500" src="//player.bilibili.com/player.html?aid=670137563&bvid=BV17a4y1s7nP&cid=253887490&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><h3 id="五、注意事项"><a href="#五、注意事项" class="headerlink" title="五、注意事项"></a>五、注意事项</h3><ol><li>安装autojs之后，点击右小角新建文件，将完整代码粘贴进去，开启无障碍模式即可运行</li><li>使用时修改小号账号和密码，以及大号账号和密码即可</li><li>每一部手机的脚本运行效果可能会不一样，因为软件的局限性</li><li>可以根据autojs的文档自己编写脚本 —&gt; <a href="https://hyb1996.github.io/AutoJs-Docs/#/">AutoJs-Docs</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>AutoJs</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Script</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>🌈微博超话工具</title>
    <link href="/2020/10/19/WeiBoSuperTopicsTool/"/>
    <url>/2020/10/19/WeiBoSuperTopicsTool/</url>
    
    <content type="html"><![CDATA[<blockquote><p>我的第一个 PyQt5 的 GUI 程序，抓取微博 API  进行的封装集一键超话签到，获取每日积分<br>微博 APP 登录积分，帖子评论转发，超话打榜，积分查询于一体的微博超话工具<br>本工具使用的微博 API 接口分享 —&gt; <a href="https://github.com/ReaJason/WeiBo_SuperTopics">https://github.com/ReaJason/WeiBo_SuperTopics</a></p><a id="more"></a></blockquote><div class="note note-danger">            <p>使用前请先务必查看注意事项</p>          </div><h3 id="一、基本功能"><a href="#一、基本功能" class="headerlink" title="一、基本功能"></a>一、基本功能</h3><ol><li>微博账号登录，验证码自动识别</li><li>关注超话签到 +16 分 +6 点以后签到随机积分</li><li>每日积分获取 +3/+5/+8</li><li>微博超话 APP 登录积分 +10 分</li><li>超话帖子评论转发点赞 +16 分</li><li>任务中心查询积分</li><li>超话打榜</li><li>一言欣赏</li></ol><h3 id="二、界面截图"><a href="#二、界面截图" class="headerlink" title="二、界面截图"></a>二、界面截图</h3><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://img.shields.io/badge/python-3.7.4-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/pyinstaller-4.0-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/PyQt5-5.15.1-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/requests-2.24.0-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/torch-1.0.1-brightgreen?style=social&logo=appveyor"></div></div></div><p><img src="https://cdn.jsdelivr.net/gh/LingSiKi/images/img/%E6%97%A0PyTorch%E7%89%88%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2.png" alt="无 PyTorch 版登录界面"></p><center><p style="color:orange; font-size: 14px; border-bottom: 1px solid #d9d9d9;display: inline-block;color: #999;padding: 2px;">1、无 PyTorch 版登录界面</p></center><p><img src="https://cdn.jsdelivr.net/gh/LingSiKi/images/img/PyTorch%E7%89%88%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2.png" alt="PyTorch 版登录界面"></p><center><p style="color:orange; font-size: 14px; border-bottom: 1px solid #d9d9d9;display: inline-block;color: #999;padding: 2px;">2、PyTorch 版登录界面</p></center><p><img src="https://cdn.jsdelivr.net/gh/LingSiKi/images/img/%E8%BF%90%E8%A1%8C%E7%95%8C%E9%9D%A2.png" alt="运行界面"></p><center><p style="color:orange; font-size: 14px; border-bottom: 1px solid #d9d9d9;display: inline-block;color: #999;padding: 2px;">3、运行界面</p></center><h3 id="三、注意事项"><a href="#三、注意事项" class="headerlink" title="三、注意事项"></a>三、注意事项</h3><ol><li><p>花了点时间做了两个版本，第一次打包分享，请在网络环境良好的情况下运行本程序：</p><ul><li>无 PyTorch 版：<ul><li>基于 Win7 32 位操作系统打包，除了 xp 应该都可以运行</li><li>手动输入验证码，由于没有集成 pytorch，程序体积小，启动快</li><li>下载地址：<ul><li><a href="https://pan.baidu.com/s/1sBs48GbNM7tzgOiGjvhy1Q">https://pan.baidu.com/s/1sBs48GbNM7tzgOiGjvhy1Q</a> 提取码: 1111</li><li><a href="https://cloud.189.cn/t/r2YvqmEziqy2">https://cloud.189.cn/t/r2YvqmEziqy2</a> 提取码：sk1z</li><li><a href="https://lingsiki.lanzous.com/i08NFhka96h">https://lingsiki.lanzous.com/i08NFhka96h</a> 提取码:1111</li></ul></li><li>使用方法：<ul><li>解压打开exe文件</li><li>输入账号密码，点击验证，输入验证码登录</li><li>登录成功，等待获取超话列表，全选（可随意选择功能），选择打榜超话（可选），开始</li></ul></li></ul></li><li>PyTorch 版：<ul><li>基于 Win10 64 位打包，32 位的操作系统应该用不了</li><li>自动输入验证码，优点就是不需要手动输，缺点就体积大，启动略慢</li><li>下载地址：<ul><li><a href="https://pan.baidu.com/s/1TNQdRz_4wVpdVGBXTa3bgA">https://pan.baidu.com/s/1TNQdRz_4wVpdVGBXTa3bgA</a> 提取码: 1111 </li><li><a href="https://cloud.189.cn/t/iAzQbaRzmaIj">https://cloud.189.cn/t/iAzQbaRzmaIj</a> 提取码：kr0g</li></ul></li><li>使用方法：<ul><li>解压打开exe文件（启动有点慢，耐心等待）</li><li>输入账号密码点击登录</li><li>登录成功，等待获取超话列表，全选（可随意选择功能），选择打榜超话（可选），开始</li></ul></li></ul></li></ul></li><li><p>PyTorch 版接入了 <a href="https://github.com/skygongque/captcha-weibo">微博验证码识别</a> 的所用到的深度学习 Pytorch 包（90+ M，最新的版本达到了几百兆），因此打包的程序体积也无可避免的变大，考虑过服务器架设打码服务，不过本地更安全（我也没钱买服务器😛）。</p></li><li><p>超话打榜功能开始前请选择打榜超话和分数后再开始。</p><ul><li>select1 对应 1 分</li><li>select10 对应 10 分</li><li>select66 对应 66 分</li><li>select256 对应全部积分</li></ul></li><li><p>如果因未知原因造成软件闪退请及时反馈或重启程序再试：</p><ul><li>反馈格式：「操作系统」+「闪退前使用的功能选项」+「闪退前运行日志的截图」。</li><li>有不错的建议也可以提出来（比如 UI ）</li><li>反馈请发邮箱或在 GitHub 提 issue：<ul><li>Email：<a href="mailto:&#x72;&#x65;&#x61;&#106;&#97;&#x73;&#x6f;&#110;&#x40;&#49;&#x36;&#51;&#x2e;&#99;&#x6f;&#109;">&#x72;&#x65;&#x61;&#106;&#97;&#x73;&#x6f;&#110;&#x40;&#49;&#x36;&#51;&#x2e;&#99;&#x6f;&#109;</a></li><li>GitHub：<a href="https://github.com/ReaJason/WeiBo_SuperTopics">https://github.com/ReaJason/WeiBo_SuperTopics</a></li></ul></li></ul></li><li><p>关于登录之后保存按钮，只是为了下次启动自动输入（也可以自己修改），会在程序运行的路径下保存账号和密码的明文（介意勿用）。</p></li><li><p>由于微博的一些沙雕检测，请不要一台设备登录太多账号，可能会出现异常的情况，比如无法签到，无法发微博，甚至冻结的情况</p></li></ol><h3 id="四、免责声明"><a href="#四、免责声明" class="headerlink" title="四、免责声明"></a>四、免责声明</h3><ol><li>本程序只供参考学习，请勿用于违法用途</li><li>使用本程序导致微博账号异常或冻结甚至封禁都与作者无关</li><li>凡以任何方式下载使用本程序者，视为自愿接受本声明约束。</li></ol><h3 id="五、参考项目"><a href="#五、参考项目" class="headerlink" title="五、参考项目"></a>五、参考项目</h3><ol><li><a href="https://github.com/skygongque/captcha-weibo">https://github.com/skygongque/captcha-weibo</a></li><li><a href="https://github.com/wxy1343/weibo_points">https://github.com/wxy1343/weibo_points</a></li><li><a href="https://github.com/sparanoid/chinese-copywriting-guidelines/blob/master/README.zh-CN.md">中文文案指北</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PyQt5</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>✅完美校园抓包打卡</title>
    <link href="/2020/06/28/17wanxiaoCheckin/"/>
    <url>/2020/06/28/17wanxiaoCheckin/</url>
    
    <content type="html"><![CDATA[<blockquote><p>基于GitHub Actions的完美校园打卡，支持多人打卡，支持打卡字段信息展示，支持微信推送，每天早上六点自动打卡，理论上所有学校通用！！</p><a id="more"></a></blockquote><div class="note note-success">            <p>项目地址：<a href="https://github.com/ReaJason/17wanxiaoCheckin-Actions">https://github.com/ReaJason/17wanxiaoCheckin-Actions</a></p>          </div><div class="note note-success">            <p>之前的抓包部署教程请前往：<a href="https://github.com/ReaJason/17wanxiaoCheckin-Actions/blob/master/README_LAST.md">完美校园抓包打卡</a>，你可以在这里学习模拟器抓包APP签到请求哦。</p>          </div><h3 id="一、功能介绍"><a href="#一、功能介绍" class="headerlink" title="一、功能介绍"></a>一、功能介绍</h3><ol><li>完美校园模拟登录获取token</li><li>自动获取上次提交的打卡数据</li><li>每天早上六点自动打卡（有 10+ 分钟延迟）</li><li>微信推送打卡消息</li></ol><h3 id="二、打卡数据"><a href="#二、打卡数据" class="headerlink" title="二、打卡数据"></a>二、打卡数据</h3><p>细心的你应该会发现，自从第一次打卡之后，每次进去信息基本自动填写好了，我抓取的就是这个接口，</p><p>这样子也相当于大家不用抓包了，如果你进入完美校园健康打卡界面，它没有自动填写信息，可能</p><p>本项目也就不起作用了，可以试试打一次卡然后再进入看有无自动填充信息。</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_post_json</span>(<span class="hljs-params">token</span>):</span>    retry = <span class="hljs-number">0</span>    <span class="hljs-keyword">while</span> retry &lt; <span class="hljs-number">3</span>:        jsons = &#123;<span class="hljs-string">&quot;businessType&quot;</span>: <span class="hljs-string">&quot;epmpics&quot;</span>,                 <span class="hljs-string">&quot;jsonData&quot;</span>: &#123;<span class="hljs-string">&quot;templateid&quot;</span>: <span class="hljs-string">&quot;pneumonia&quot;</span>, <span class="hljs-string">&quot;token&quot;</span>: token&#125;,                 <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;userComeApp&quot;</span>&#125;        <span class="hljs-keyword">try</span>:            <span class="hljs-comment"># 如果不请求一下这个地址，token就会失效</span>            requests.post(<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/api/clock/school/getUserInfo&quot;</span>, data=&#123;<span class="hljs-string">&#x27;token&#x27;</span>: token&#125;)            res = requests.post(url=<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/sass/api/epmpics&quot;</span>, json=jsons, timeout=<span class="hljs-number">10</span>).json()        <span class="hljs-keyword">except</span>:            retry += <span class="hljs-number">1</span>            logging.warning(<span class="hljs-string">&#x27;获取完美校园打卡post参数失败，正在重试...&#x27;</span>)            time.sleep(<span class="hljs-number">1</span>)            <span class="hljs-keyword">continue</span>        <span class="hljs-keyword">if</span> res[<span class="hljs-string">&#x27;code&#x27;</span>] != <span class="hljs-string">&#x27;10000&#x27;</span>:            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>        data = json.loads(res[<span class="hljs-string">&#x27;data&#x27;</span>])        post_dict = &#123;            <span class="hljs-string">&quot;areaStr&quot;</span>: data[<span class="hljs-string">&#x27;areaStr&#x27;</span>],            <span class="hljs-string">&quot;deptStr&quot;</span>: data[<span class="hljs-string">&#x27;deptStr&#x27;</span>],            <span class="hljs-string">&quot;deptid&quot;</span>: data[<span class="hljs-string">&#x27;deptStr&#x27;</span>][<span class="hljs-string">&#x27;deptid&#x27;</span>],            <span class="hljs-string">&quot;customerid&quot;</span>: data[<span class="hljs-string">&#x27;customerid&#x27;</span>],            <span class="hljs-string">&quot;userid&quot;</span>: data[<span class="hljs-string">&#x27;userid&#x27;</span>],            <span class="hljs-string">&quot;username&quot;</span>: data[<span class="hljs-string">&#x27;username&#x27;</span>],            <span class="hljs-string">&quot;stuNo&quot;</span>: data[<span class="hljs-string">&#x27;stuNo&#x27;</span>],            <span class="hljs-string">&quot;phonenum&quot;</span>: data[<span class="hljs-string">&#x27;phonenum&#x27;</span>],            <span class="hljs-string">&quot;templateid&quot;</span>: data[<span class="hljs-string">&#x27;templateid&#x27;</span>],            <span class="hljs-string">&quot;updatainfo&quot;</span>: [&#123;<span class="hljs-string">&quot;propertyname&quot;</span>: i[<span class="hljs-string">&quot;propertyname&quot;</span>], <span class="hljs-string">&quot;value&quot;</span>: i[<span class="hljs-string">&quot;value&quot;</span>]&#125; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span>                           data[<span class="hljs-string">&#x27;cusTemplateRelations&#x27;</span>]],            <span class="hljs-string">&quot;checkbox&quot;</span>: [&#123;<span class="hljs-string">&quot;description&quot;</span>: i[<span class="hljs-string">&quot;decription&quot;</span>], <span class="hljs-string">&quot;value&quot;</span>: i[<span class="hljs-string">&quot;value&quot;</span>]&#125; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span>                         data[<span class="hljs-string">&#x27;cusTemplateRelations&#x27;</span>]],        &#125;        <span class="hljs-comment"># print(json.dumps(post_dict, sort_keys=True, indent=4, ensure_ascii=False))</span>        <span class="hljs-comment"># 在这里修改没有填写的数据，遍历post_dict[&#x27;updatainfo&#x27;]修改就行</span>        logging.info(<span class="hljs-string">&#x27;获取完美校园打卡post参数成功&#x27;</span>)        <span class="hljs-keyword">return</span> post_dict    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span></code></pre><h3 id="三、使用方法"><a href="#三、使用方法" class="headerlink" title="三、使用方法"></a>三、使用方法</h3><ol><li><p>请先确保进入健康打卡界面，信息能够 **正确 **的自动填写（没有自动填写的项，可以自行修改代码）</p></li><li><p>点击右上角的 <code>fork</code>，<code>fork</code> 本项目到自己仓库中</p></li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/click_fork.png"></p><ol start="3"><li>开启 <code>Actions</code></li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/start_action.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_actions.png"></p><ol start="4"><li><p>设置三个 <code>secrets</code>  字段：<code>USERNAME</code>、<code>PASSWORD</code>、<code>SCKEY</code>（对应就是账号，密码以及 Server 酱）</p><ul><li>如果是多人打卡的话：<ul><li>USERNAME字段：手机号1,手机号2,……（与下面密码对应），例如：<code>1737782***,13602***</code></li><li>PASSWORD字段：密码1,密码2,……  （与上面账号对应），例如：<code>123456,456789</code></li><li>SCKEY字段：填写一个即可（注册请前往：<a href="https://sc.ftqq.com/3.version">Server酱官网</a>），例如：<code>SCU90543*******</code></li></ul></li></ul></li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/new_secrets.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/secrets_details.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_secrets.png"></p><ol start="5"><li>修改 <code>README.md</code> 测试一次</li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/modify_readme.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_modify.png"></p><ol start="6"><li>查看 <code>Actions</code> 运行情况，以及微信推送情况，至此每日六点多将会自行打卡</li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/check_status.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_check.png"></p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Script</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
